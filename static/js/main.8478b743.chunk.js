(this["webpackJsonpweather-react-app"]=this["webpackJsonpweather-react-app"]||[]).push([[0],{139:function(e,t,c){},141:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c.n(a),s=c(26),n=c.n(s),i=c(6);function o(e,t){var c=Object(a.useState)((function(){try{var c=window.localStorage.getItem(e);return c?JSON.parse(c):t}catch(a){return console.log(a),t}})),r=Object(i.a)(c,2),s=r[0],n=r[1];return[s,function(t){try{var c=t instanceof Function?t(s):t;n(c),window.localStorage.setItem(e,JSON.stringify(c))}catch(a){console.log(a)}}]}var j=c(8),l=Object(a.createContext)(),u=function(e){var t=o("weather",void 0),c=Object(i.a)(t,2),r=c[0],s=c[1],n=Object(a.useState)({key:"d0382771156e90c34e987d43ebbf59d6",baseUrl:"https://api.openweathermap.org/data/2.5/"}),u=Object(i.a)(n,2),h=u[0],d=u[1],b=o("scale","\xb0C"),O=Object(i.a)(b,2),m=O[0],x=O[1];return Object(j.jsx)(l.Provider,{value:{weatherState:[r,s],apiState:[h,d],scaleState:[m,x]},children:e.children})},h=c(27),d=c(147),b=function(e){var t=d.a.Search,c=Object(a.useContext)(l),r=c.weatherState,s=c.apiState,n=Object(i.a)(r,2),o=(n[0],n[1]),u=Object(i.a)(s,2),b=u[0],O=(u[1],Object(a.useState)("")),m=Object(i.a)(O,2),x=m[0],p=m[1],v=Object(h.f)();return Object(j.jsx)("div",{className:"flex-container",children:Object(j.jsx)("div",{style:{marginBottom:"2rem"},children:Object(j.jsx)(t,{id:"locationInput",type:"text",placeholder:"Ingrese la localidad",onSearch:function(e){fetch(b.baseUrl+"weather?q="+x+"&appid="+b.key+"&lang=es").then((function(e){return e.json()})).then((function(e){o(e),p(""),v.push("/weather")}))},onChange:function(e){return p(e.target.value)},value:x,enterButton:!0})})})},O=c(47),m=function(e){var t=new Date,c=t.getTime()+6e4*t.getTimezoneOffset()+1e3*e.timezone,a=new Date(c);return{hours:a.getHours(),minutes:a.getMinutes()}},x=function(e){var t=function(e){var t=void 0!=e.sys?new Date(1e3*e.sys.sunrise):"";return void 0!=e.sys?{hours:t.getHours(),minutes:t.getMinutes()}:""}(e),c=function(e){var t=void 0!=e.sys?new Date(1e3*e.sys.sunset):"";return void 0!=e.sys?{hours:t.getHours(),minutes:t.getMinutes()}:""}(e),a=m(e);return void 0!=e&&(""+a.hours+a.minutes>""+t.hours+t.minutes||""+a.hours+a.minutes<""+c.hours+c.minutes)},p=function(e){if(m(e.weather)>6&&m(e.weather)<21)switch(e.weather.weather[0].main){case"Rain":case"Thunderstorm":case"Drizzle":return Object(j.jsx)(O.c,{size:e.size,color:e.color});case"Clear":return Object(j.jsx)(O.d,{size:e.size,color:e.color});case"Clouds":return Object(j.jsx)(O.a,{size:e.size,color:e.color});case"Mist":case"Fog":case"Haze":return Object(j.jsx)(O.b,{size:e.size,color:e.color})}else switch(e.weather.weather[0].main){case"Rain":case"Thunderstorm":case"Drizzle":return Object(j.jsx)(O.f,{size:e.size,color:e.color});case"Clear":return Object(j.jsx)(O.g,{size:e.size,color:e.color});case"Clouds":return Object(j.jsx)(O.e,{size:e.size,color:e.color});case"Mist":case"Fog":case"Haze":return Object(j.jsx)(O.h,{size:e.size,color:e.color})}return Object(j.jsx)(O.a,{size:e.size,color:e.color})},v=function(e){return Math.round(9*e/5+32)},f=function(e){var t,c,r=new Date,s=Object(a.useState)("La localidad ingresada es incorrecta."),n=Object(i.a)(s,2),o=n[0],u=(n[1],Object(a.useContext)(l)),h=u.weatherState,d=u.scaleState,b=Object(i.a)(h,2),O=b[0],m=(b[1],Object(i.a)(d,2)),x=m[0],f=(m[1],function(e){try{return{current:Math.round(e.main.temp-273.15),max:Math.round(e.main.temp_max-273),min:Math.round(e.main.temp_min-273)}}catch(t){return}}(O));try{return Object(j.jsxs)("div",{className:"weather-info",children:[Object(j.jsxs)("div",{className:"location-box",children:[Object(j.jsx)("div",{className:"location",children:O.name+", "+O.sys.country}),Object(j.jsx)("div",{className:"date",children:(c=r,["Lunes","Martes","Miercoles","Jueves","Viernes","Sabado","Domingo"][c.getDay()-1]+" "+c.getDate()+" de "+["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][c.getMonth()]+" del "+c.getFullYear())})]}),Object(j.jsxs)("div",{className:"weather-box",children:[Object(j.jsx)("div",{className:"currentTemp",children:Object(j.jsxs)("span",{children:["\xb0F"==x?v(f.current):f.current," ",x]})}),Object(j.jsx)("div",{style:{opacity:"80%"},children:Object(j.jsx)(p,{size:175,color:"#FFF",weather:O})}),Object(j.jsxs)("div",{className:"maxMinTemp",children:[Object(j.jsx)("div",{className:"minTemp",children:Object(j.jsxs)("span",{children:["Min ","\xb0F"==x?v(f.min):f.min," ",x]})}),Object(j.jsx)("div",{children:" / "}),Object(j.jsx)("div",{className:"maxTemp",children:Object(j.jsxs)("span",{children:["Max ","\xb0F"==x?v(f.max):f.max," ",x]})})]}),Object(j.jsx)("div",{className:"weather",children:(t=O.weather[0].description,t&&t[0].toUpperCase()+t.slice(1))})]})]})}catch(w){return Object(j.jsx)("div",{className:"error",children:o})}},w=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{}),Object(j.jsx)(f,{})]})},g=c(144),y=c.p+"static/media/app-logo.adec998e.png",z=function(e){return Object(j.jsxs)("div",{className:"home-screen",children:[Object(j.jsx)(g.a,{width:200,src:y,preview:!1}),Object(j.jsx)("div",{className:"app-title",children:Object(j.jsx)("h1",{children:"Weather App"})}),Object(j.jsx)(b,{})]})},S=function(e){if(void 0!=e){if(x(e))return"day";if(!x(e))return"night"}},N=c(68),M=c(146),C=c(65),F=c(148),D=c(77),k=c(149),T=(c(145).a.Paragraph,function(e){var t=Object(a.useContext)(l),c=t.scaleState,r=t.weatherState,s=Object(i.a)(c,2),n=(s[0],s[1]),u=Object(i.a)(r,2),d=(u[0],u[1]),b=o("selectedScale","1"),O=Object(i.a)(b,2),m=O[0],x=O[1],p=Object(h.g)(),v=Object(j.jsxs)(M.a,{defaultSelectedKeys:m,selectable:!0,onSelect:function(e){"1"==e.key?(n("\xb0C"),x("1")):"2"==e.key&&(n("\xb0F"),x("2"))},theme:"dark",children:[Object(j.jsx)(M.a.Item,{children:"Celsius"},"1"),Object(j.jsx)(M.a.Item,{children:"Fahrenheit"},"2")]});return Object(j.jsxs)("div",{className:"settings",children:[Object(j.jsx)(N.b,{to:"/",children:Object(j.jsx)(C.a,{onClick:function(){d(void 0)},icon:Object(j.jsx)(D.a,{style:{fontSize:"1.8rem"}}),type:"link",disabled:"/weather"!=p.pathname})}),Object(j.jsx)(F.a.Button,{shape:"circle",icon:Object(j.jsx)(k.a,{style:{fontSize:"1.8rem"}}),type:"link",overlay:v})]})});var I=function(){var e=Object(a.useContext)(l).weatherState,t=Object(i.a)(e,2),c=t[0];return t[1],Object(j.jsx)(N.a,{basename:"/weather-react-app",children:Object(j.jsx)("div",{className:"app",children:Object(j.jsxs)("main",{className:S(c),children:[Object(j.jsx)(T,{}),Object(j.jsxs)(h.c,{children:[Object(j.jsx)(h.a,{path:"/",exact:!0,component:z}),Object(j.jsx)(h.a,{path:"/weather",component:w})]})]})})})};c(139),c(140);n.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(u,{children:Object(j.jsx)(I,{})})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.8478b743.chunk.js.map